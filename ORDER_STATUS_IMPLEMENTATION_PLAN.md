# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤

## üìã –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

### –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞:
1. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞**: –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `/api/esimgo/order` (—Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–∫–∞–∑ –≤ eSIM Go)
2. **–°—Ç–∞—Ç—É—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: `completed` (—Å—Ç—Ä–æ–∫–∞ 128 –≤ `api/orders.js`)
3. **Telegram Stars**: Webhook –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `successful_payment` –∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `completed`
4. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**:
   - –õ–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ `on_hold`
   - –õ–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ `failed`
   - –õ–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ `canceled`
   - –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Stripe webhooks
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Cryptomus webhooks
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–¥–∞—á–∏ eSIM –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π `completed`

---

## üéØ –¶–µ–ª–µ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤

### 4 —Å—Ç–∞—Ç—É—Å–∞:
1. **ON HOLD** - –ü–ª–∞—Ç–µ–∂ –Ω–∞—á–∞—Ç, –Ω–æ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω
2. **COMPLETED** - –î–µ–Ω—å–≥–∏ –ø–æ–ª—É—á–µ–Ω—ã + eSIM –≤—ã–¥–∞–Ω–∞
3. **FAILED** - –ü–ª–∞—Ç–µ–∂ –∏–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∏—Å—å
4. **CANCELED** - –ó–∞–∫–∞–∑ –∑–∞–∫—Ä—ã—Ç –±–µ–∑ –æ—à–∏–±–∫–∏ (—Ç–∞–π–º–∞—É—Ç/–æ—Ç–º–µ–Ω–∞)

---

## üìù –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–º–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–µ–π—á–∞—Å –∑–∞–∫–∞–∑ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –≤ eSIM Go –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "Purchase"

**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–∫–∞–∑ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –ø–ª–∞—Ç–µ–∂ —Ä–µ–∞–ª—å–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

#### 1.1 Telegram Stars
- **–¢–µ–∫—É—â–µ–µ**: –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ webhook –ø–æ—Å–ª–µ `successful_payment`
- **–ù–æ–≤–æ–µ**: 
  - –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "Purchase" ‚Üí —Å–æ–∑–¥–∞–µ–º –∑–∞–∫–∞–∑ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `on_hold` (–ë–ï–ó —Å–æ–∑–¥–∞–Ω–∏—è –≤ eSIM Go)
  - –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ë–î: `status: 'on_hold'`, `payment_session_id`, `payment_method: 'telegram_stars'`
  - –ü—Ä–∏ `successful_payment` ‚Üí —Å–æ–∑–¥–∞–µ–º –∑–∞–∫–∞–∑ –≤ eSIM Go –∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
- `api/telegram/stars/create-invoice.js` - –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ `on_hold` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ invoice
- `api/telegram/stars/webhook.js` - –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É: –æ–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∑–∞–∫–∞–∑ –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ
- `api/orders.js` - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É `on_hold` —Å—Ç–∞—Ç—É—Å–∞

#### 1.2 Stripe (–Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å)
- **–ù–æ–≤–æ–µ**:
  - –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ Stripe Checkout ‚Üí —Å–æ–∑–¥–∞–µ–º –∑–∞–∫–∞–∑ `on_hold`
  - –°–æ—Ö—Ä–∞–Ω—è–µ–º `payment_intent_id`, `checkout_session_id`
  - –ü—Ä–∏ webhook `payment_intent.succeeded` ‚Üí —Å–æ–∑–¥–∞–µ–º –∑–∞–∫–∞–∑ –≤ eSIM Go

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è**:
- `api/stripe/create-checkout.js` - —Å–æ–∑–¥–∞–Ω–∏–µ Stripe Checkout Session
- `api/stripe/webhook.js` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ Stripe webhooks
- –î–æ–±–∞–≤–∏—Ç—å –≤ `server.js` —Ä–æ—É—Ç—ã –¥–ª—è Stripe

#### 1.3 Cryptomus (–Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å)
- **–ù–æ–≤–æ–µ**:
  - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ crypto invoice ‚Üí —Å–æ–∑–¥–∞–µ–º –∑–∞–∫–∞–∑ `on_hold`
  - –°–æ—Ö—Ä–∞–Ω—è–µ–º `invoice_id`, `payment_address`
  - –ü—Ä–∏ webhook `paid`/`confirmed` ‚Üí —Å–æ–∑–¥–∞–µ–º –∑–∞–∫–∞–∑ –≤ eSIM Go

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è**:
- `api/cryptomus/create-invoice.js` - —Å–æ–∑–¥–∞–Ω–∏–µ Cryptomus invoice
- `api/cryptomus/webhook.js` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ Cryptomus webhooks
- –î–æ–±–∞–≤–∏—Ç—å –≤ `server.js` —Ä–æ—É—Ç—ã –¥–ª—è Cryptomus

---

### –≠—Ç–∞–ø 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ ON HOLD

#### 2.1 –£—Å–ª–æ–≤–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ ON HOLD

**Telegram Stars**:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª "Purchase"
- Telegram –æ—Ç–∫—Ä—ã–ª –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã (`tg.openInvoice()` –≤—ã–∑–≤–∞–Ω)
- –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω –≤ –ë–î —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `on_hold`
- `payment_session_id` = invoice ID

**Stripe**:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–æ–≤–∞–Ω –≤ Stripe Checkout
- –°–æ–∑–¥–∞–Ω `PaymentIntent` —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏:
  - `requires_payment_method`
  - `requires_action`
  - `processing`
- –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω –≤ –ë–î —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `on_hold`
- `payment_intent_id` —Å–æ—Ö—Ä–∞–Ω–µ–Ω

**Cryptomus**:
- –°–æ–∑–¥–∞–Ω crypto invoice / address
- –°—Ç–∞—Ç—É—Å invoice:
  - `pending`
  - `waiting`
  - `confirming`
- –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω –≤ –ë–î —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `on_hold`
- `invoice_id` —Å–æ—Ö—Ä–∞–Ω–µ–Ω

#### 2.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞ ON HOLD

```javascript
{
  orderReference: null, // –ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–∞ –≤ eSIM Go
  status: 'on_hold',
  payment_method: 'telegram_stars' | 'stripe' | 'cryptomus',
  payment_session_id: '...', // invoice_id / payment_intent_id / invoice_id
  payment_status: 'pending' | 'processing' | 'waiting',
  created_at: '2026-01-09T10:00:00Z',
  expires_at: '2026-01-09T10:05:00Z', // + —Ç–∞–π–º–∞—É—Ç
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–∫–∞–∑–∞
}
```

---

### –≠—Ç–∞–ø 3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–π–º–∞—É—Ç–æ–≤

#### 3.1 –¢–∞–π–º–∞—É—Ç—ã –ø–æ –ø–ª–∞—Ç–µ–∂–Ω—ã–º –º–µ—Ç–æ–¥–∞–º

- **Telegram Stars**: 5 –º–∏–Ω—É—Ç
- **Stripe**: 20 –º–∏–Ω—É—Ç
- **Cryptomus**: 60 –º–∏–Ω—É—Ç

#### 3.2 –ú–µ—Ö–∞–Ω–∏–∑–º —Ç–∞–π–º–∞—É—Ç–æ–≤

**–í–∞—Ä–∏–∞–Ω—Ç 1: Cron job / Scheduled task**
- –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `scripts/check-order-timeouts.js`
- –ó–∞–ø—É—Å–∫–∞—Ç—å –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É —á–µ—Ä–µ–∑ cron –∏–ª–∏ PM2 scheduler
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∑–∞–∫–∞–∑—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `on_hold` –≥–¥–µ `expires_at < now()`
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å `canceled`

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞**
- –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –∑–∞–∫–∞–∑–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–∞–π–º–∞—É—Ç
- –ï—Å–ª–∏ –∏—Å—Ç–µ–∫ ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ `canceled`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞ (cron –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ + –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö)

#### 3.3 –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
- `scripts/check-order-timeouts.js` - —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å –≤ `package.json` —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cron –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏–ª–∏ PM2 scheduler

---

### –≠—Ç–∞–ø 4: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ COMPLETED

#### 4.1 –£—Å–ª–æ–≤–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ COMPLETED

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è**:
1. ‚úÖ –ü–ª–∞—Ç–µ–∂ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω (webhook –ø–æ–ª—É—á–µ–Ω)
2. ‚úÖ eSIM —É—Å–ø–µ—à–Ω–æ –≤—ã–¥–∞–Ω–∞ (QR / ICCID –ø–æ–ª—É—á–µ–Ω—ã)

**–ù–ï —Å—Ç–∞–≤–∏—Ç—å COMPLETED –µ—Å–ª–∏**:
- –î–µ–Ω—å–≥–∏ –ø—Ä–∏—à–ª–∏, –Ω–æ eSIM –Ω–µ –≤—ã–¥–∞–Ω–∞ ‚Üí –æ—Å—Ç–∞–≤–∏—Ç—å `on_hold`

#### 4.2 –õ–æ–≥–∏–∫–∞ –ø–æ –ø–ª–∞—Ç–µ–∂–Ω—ã–º –º–µ—Ç–æ–¥–∞–º

**Telegram Stars**:
- Webhook `successful_payment` –ø–æ–ª—É—á–µ–Ω
- Stars —Å–ø–∏—Å–∞–ª–∏—Å—å
- –°–æ–∑–¥–∞–Ω –∑–∞–∫–∞–∑ –≤ eSIM Go
- –ü–æ–ª—É—á–µ–Ω—ã assignments (ICCID, matchingId, smdpAddress)
- ‚Üí –°—Ç–∞—Ç—É—Å `completed`

**Stripe**:
- Webhook `payment_intent.succeeded` –ø–æ–ª—É—á–µ–Ω
- –°–æ–∑–¥–∞–Ω –∑–∞–∫–∞–∑ –≤ eSIM Go
- –ü–æ–ª—É—á–µ–Ω—ã assignments
- ‚Üí –°—Ç–∞—Ç—É—Å `completed`

**Cryptomus**:
- Webhook `paid` / `confirmed` –ø–æ–ª—É—á–µ–Ω
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ —á–∏—Å–ª–æ confirmations
- –°–æ–∑–¥–∞–Ω –∑–∞–∫–∞–∑ –≤ eSIM Go
- –ü–æ–ª—É—á–µ–Ω—ã assignments
- ‚Üí –°—Ç–∞—Ç—É—Å `completed`

#### 4.3 –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
- `api/telegram/stars/webhook.js` - –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É eSIM –ø–µ—Ä–µ–¥ `completed`
- `api/stripe/webhook.js` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É
- `api/cryptomus/webhook.js` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É
- `api/esimgo/order.js` - –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å—Ç–∞—Ç—É—Å–∞ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

---

### –≠—Ç–∞–ø 5: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ FAILED

#### 5.1 –£—Å–ª–æ–≤–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ FAILED

**Telegram Stars**:
- –û—à–∏–±–∫–∞ —Å–ø–∏—Å–∞–Ω–∏—è Stars
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ–Ω–∏–ª –æ–ø–ª–∞—Ç—É –≤ –æ–∫–Ω–µ
- Webhook —Å –æ—à–∏–±–∫–æ–π

**Stripe**:
- Webhook `payment_intent.payment_failed`
- Webhook `payment_intent.canceled` (–Ω–µ user timeout)

**Cryptomus**:
- –°—Ç–∞—Ç—É—Å invoice: `failed`
- –°—Ç–∞—Ç—É—Å invoice: `expired`

#### 5.2 –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
- `api/telegram/stars/webhook.js` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- `api/stripe/webhook.js` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ failed/canceled
- `api/cryptomus/webhook.js` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ failed/expired

---

### –≠—Ç–∞–ø 6: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ CANCELED

#### 6.1 –£—Å–ª–æ–≤–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ CANCELED

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—à–µ–ª –∏ –Ω–µ –æ–ø–ª–∞—Ç–∏–ª (—Ç–∞–π–º–∞—É—Ç –∏—Å—Ç–µ–∫)
- –ü–ª–∞—Ç–µ–∂ –∑–∞–≤–∏—Å –∏ –∏—Å—Ç–µ–∫ —Ç–∞–π–º–∞—É—Ç
- –ó–∞–∫–∞–∑ –æ—Ç–º–µ–Ω–µ–Ω —Å–∏—Å—Ç–µ–º–æ–π –∏–ª–∏ –∞–¥–º–∏–Ω–æ–º

#### 6.2 –ú–µ—Ö–∞–Ω–∏–∑–º
- Cron job –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–∫–∞–∑—ã `on_hold` —Å –∏—Å—Ç–µ–∫—à–∏–º `expires_at`
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å `canceled`
- –õ–æ–≥–∏—Ä—É–µ—Ç –ø—Ä–∏—á–∏–Ω—É –æ—Ç–º–µ–Ω—ã

#### 6.3 –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
- `scripts/check-order-timeouts.js` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
- `api/admin/orders.js` - –¥–æ–±–∞–≤–∏—Ç—å endpoint –¥–ª—è —Ä—É—á–Ω–æ–π –æ—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–∞

---

### –≠—Ç–∞–ø 7: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞

#### 7.1 –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ –∑–∞–∫–∞–∑–µ

```javascript
{
  // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  orderReference: '...',
  status: 'on_hold' | 'completed' | 'failed' | 'canceled',
  payment_method: 'telegram_stars' | 'stripe' | 'cryptomus',
  
  // –ù–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
  payment_session_id: '...', // invoice_id / payment_intent_id / invoice_id
  payment_status: 'pending' | 'processing' | 'succeeded' | 'failed',
  expires_at: '2026-01-09T10:05:00Z', // –¢–∞–π–º–∞—É—Ç –¥–ª—è on_hold
  canceled_reason: 'timeout' | 'user_cancel' | 'admin_cancel' | null,
  failed_reason: 'payment_failed' | 'esim_error' | 'provider_error' | null,
  
  // –§–ª–∞–≥–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
  payment_confirmed: false, // –î–µ–Ω—å–≥–∏ –ø–æ–ª—É—á–µ–Ω—ã
  esim_issued: false, // eSIM –≤—ã–¥–∞–Ω–∞
  esim_checked_at: null, // –ö–æ–≥–¥–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –ø—Ä–æ–≤–µ—Ä—è–ª–∏ eSIM
}
```

#### 7.2 –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
- `api/orders.js` - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è
- `data/orders.json` - –º–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–∫–∞–∑–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- `admin/js/orders.js` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π

---

### –≠—Ç–∞–ø 8: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Stripe

#### 8.1 –°–æ–∑–¥–∞–Ω–∏–µ Stripe Checkout

**–§–∞–π–ª**: `api/stripe/create-checkout.js`

**–õ–æ–≥–∏–∫–∞**:
1. –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞ (bundle_name, price, user_id)
2. –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ –≤ –ë–î —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `on_hold`
3. –°–æ–∑–¥–∞—Ç—å Stripe Checkout Session
4. –í–µ—Ä–Ω—É—Ç—å `checkout_url` –∫–ª–∏–µ–Ω—Ç—É

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `stripe` npm package
- –î–æ–±–∞–≤–∏—Ç—å `STRIPE_SECRET_KEY` –≤ `.env`
- –î–æ–±–∞–≤–∏—Ç—å `STRIPE_WEBHOOK_SECRET` –≤ `.env`

#### 8.2 –û–±—Ä–∞–±–æ—Ç–∫–∞ Stripe Webhooks

**–§–∞–π–ª**: `api/stripe/webhook.js`

**Webhooks –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏**:
- `payment_intent.succeeded` ‚Üí —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ –≤ eSIM Go ‚Üí `completed`
- `payment_intent.payment_failed` ‚Üí —Å—Ç–∞—Ç—É—Å `failed`
- `payment_intent.canceled` ‚Üí —Å—Ç–∞—Ç—É—Å `failed` (–µ—Å–ª–∏ –Ω–µ user timeout)
- `checkout.session.completed` ‚Üí –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

**–õ–æ–≥–∏–∫–∞**:
1. –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å webhook signature
2. –ù–∞–π—Ç–∏ –∑–∞–∫–∞–∑ –ø–æ `payment_intent_id`
3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–æ–≥–ª–∞—Å–Ω–æ webhook
4. –ï—Å–ª–∏ `succeeded` ‚Üí —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ –≤ eSIM Go
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–¥–∞—á—É eSIM
6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `completed` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ eSIM –≤—ã–¥–∞–Ω–∞

#### 8.3 –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
- `api/stripe/create-checkout.js`
- `api/stripe/webhook.js`
- –î–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç—ã –≤ `server.js`
- –û–±–Ω–æ–≤–∏—Ç—å `package.json` (–¥–æ–±–∞–≤–∏—Ç—å `stripe`)

---

### –≠—Ç–∞–ø 9: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Cryptomus

#### 9.1 –°–æ–∑–¥–∞–Ω–∏–µ Cryptomus Invoice

**–§–∞–π–ª**: `api/cryptomus/create-invoice.js`

**–õ–æ–≥–∏–∫–∞**:
1. –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞
2. –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ –≤ –ë–î —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `on_hold`
3. –°–æ–∑–¥–∞—Ç—å invoice –≤ Cryptomus API
4. –í–µ—Ä–Ω—É—Ç—å `payment_url` –∏ `payment_address` –∫–ª–∏–µ–Ω—Ç—É

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
- –î–æ–±–∞–≤–∏—Ç—å `CRYPTOMUS_MERCHANT_ID` –≤ `.env`
- –î–æ–±–∞–≤–∏—Ç—å `CRYPTOMUS_API_KEY` –≤ `.env`
- –î–æ–±–∞–≤–∏—Ç—å `CRYPTOMUS_WEBHOOK_SECRET` –≤ `.env`

#### 9.2 –û–±—Ä–∞–±–æ—Ç–∫–∞ Cryptomus Webhooks

**–§–∞–π–ª**: `api/cryptomus/webhook.js`

**–°—Ç–∞—Ç—É—Å—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏**:
- `paid` / `confirmed` ‚Üí —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ –≤ eSIM Go ‚Üí `completed`
- `failed` ‚Üí —Å—Ç–∞—Ç—É—Å `failed`
- `expired` ‚Üí —Å—Ç–∞—Ç—É—Å `failed`

**–õ–æ–≥–∏–∫–∞**:
1. –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å webhook signature
2. –ù–∞–π—Ç–∏ –∑–∞–∫–∞–∑ –ø–æ `invoice_id`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å confirmations (–¥–ª—è crypto)
4. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–æ–≥–ª–∞—Å–Ω–æ webhook
5. –ï—Å–ª–∏ `paid` ‚Üí —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ –≤ eSIM Go
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–¥–∞—á—É eSIM
7. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `completed` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ eSIM –≤—ã–¥–∞–Ω–∞

#### 9.3 –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
- `api/cryptomus/create-invoice.js`
- `api/cryptomus/webhook.js`
- `api/_lib/cryptomus/client.js` - –∫–ª–∏–µ–Ω—Ç –¥–ª—è Cryptomus API
- –î–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç—ã –≤ `server.js`

---

### –≠—Ç–∞–ø 10: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –∏ –∞–¥–º–∏–Ω–∫–∏

#### 10.1 –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
- `admin/js/orders.js` - –æ–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
- `admin/orders.html` - –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- `admin/js/users.js` - –æ–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ User Details

#### 10.2 –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç—É—Å–æ–≤

- **ON HOLD**: –ñ–µ–ª—Ç—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, –∏–∫–æ–Ω–∫–∞ —á–∞—Å–æ–≤
- **COMPLETED**: –ó–µ–ª–µ–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, –∏–∫–æ–Ω–∫–∞ –≥–∞–ª–æ—á–∫–∏
- **FAILED**: –ö—Ä–∞—Å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, –∏–∫–æ–Ω–∫–∞ –∫—Ä–µ—Å—Ç–∏–∫–∞
- **CANCELED**: –°–µ—Ä—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, –∏–∫–æ–Ω–∫–∞ –æ—Ç–º–µ–Ω—ã

#### 10.3 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–í –∞–¥–º–∏–Ω–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:
- –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
- –í—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è —Ç–∞–π–º–∞—É—Ç–∞ (–¥–ª—è `on_hold`)
- –ü—Ä–∏—á–∏–Ω—É –æ—Ç–º–µ–Ω—ã/–æ—à–∏–±–∫–∏ (–¥–ª—è `canceled`/`failed`)
- –°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞
- –°—Ç–∞—Ç—É—Å eSIM

---

### –≠—Ç–∞–ø 11: –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–∫–∞–∑–æ–≤

#### 11.1 –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

**–§–∞–π–ª**: `scripts/migrate-orders-status.js`

**–õ–æ–≥–∏–∫–∞**:
- –ü—Ä–æ—á–∏—Ç–∞—Ç—å –≤—Å–µ –∑–∞–∫–∞–∑—ã –∏–∑ `data/orders.json`
- –î–ª—è –∑–∞–∫–∞–∑–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `completed`:
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ `iccid` –∏–ª–∏ `matchingId`
  - –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí —Å—Ç–∞—Ç—É—Å `on_hold` (eSIM –Ω–µ –≤—ã–¥–∞–Ω–∞)
  - –ï—Å–ª–∏ –µ—Å—Ç—å ‚Üí –æ—Å—Ç–∞–≤–∏—Ç—å `completed`
- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è (`expires_at`, `payment_session_id`, etc.)
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã

---

### –≠—Ç–∞–ø 12: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 12.1 –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

1. **Telegram Stars**:
   - –°–æ–∑–¥–∞–Ω–∏–µ invoice ‚Üí –∑–∞–∫–∞–∑ `on_hold`
   - –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞ ‚Üí –∑–∞–∫–∞–∑ `completed`
   - –û—Ç–º–µ–Ω–∞ –æ–ø–ª–∞—Ç—ã ‚Üí –∑–∞–∫–∞–∑ `failed`
   - –¢–∞–π–º–∞—É—Ç 5 –º–∏–Ω—É—Ç ‚Üí –∑–∞–∫–∞–∑ `canceled`

2. **Stripe**:
   - –°–æ–∑–¥–∞–Ω–∏–µ checkout ‚Üí –∑–∞–∫–∞–∑ `on_hold`
   - –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞ ‚Üí –∑–∞–∫–∞–∑ `completed`
   - –ù–µ—É—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞ ‚Üí –∑–∞–∫–∞–∑ `failed`
   - –¢–∞–π–º–∞—É—Ç 20 –º–∏–Ω—É—Ç ‚Üí –∑–∞–∫–∞–∑ `canceled`

3. **Cryptomus**:
   - –°–æ–∑–¥–∞–Ω–∏–µ invoice ‚Üí –∑–∞–∫–∞–∑ `on_hold`
   - –û–ø–ª–∞—Ç–∞ ‚Üí –∑–∞–∫–∞–∑ `completed`
   - –ò—Å—Ç–µ—á–µ–Ω–∏–µ invoice ‚Üí –∑–∞–∫–∞–∑ `failed`
   - –¢–∞–π–º–∞—É—Ç 60 –º–∏–Ω—É—Ç ‚Üí –∑–∞–∫–∞–∑ `canceled`

4. **Edge cases**:
   - –î–µ–Ω—å–≥–∏ –ø—Ä–∏—à–ª–∏, –Ω–æ eSIM –Ω–µ –≤—ã–¥–∞–Ω–∞ ‚Üí `on_hold`
   - eSIM –≤—ã–¥–∞–Ω–∞, –Ω–æ –¥–µ–Ω—å–≥–∏ –Ω–µ –ø—Ä–∏—à–ª–∏ ‚Üí `on_hold`
   - –û–±–∞ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã ‚Üí `completed`

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
```
api/
  stripe/
    create-checkout.js
    webhook.js
  cryptomus/
    create-invoice.js
    webhook.js
  _lib/
    cryptomus/
      client.js
scripts/
  check-order-timeouts.js
  migrate-orders-status.js
```

### –ò–∑–º–µ–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã:
```
api/
  orders.js                    # –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É on_hold, –Ω–æ–≤—ã–µ –ø–æ–ª—è
  esimgo/order.js              # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
  telegram/stars/
    create-invoice.js          # –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ on_hold
    webhook.js                 # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
admin/
  js/orders.js                 # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
  js/users.js                  # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ User Details
server.js                      # –î–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç—ã –¥–ª—è Stripe/Cryptomus
package.json                   # –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (stripe)
```

---

## üîÑ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ):
1. ‚úÖ –ò–∑–º–µ–Ω–∏—Ç—å –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ (Telegram Stars)
2. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å ON HOLD
3. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–∞–π–º–∞—É—Ç—ã
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É COMPLETED (–ø—Ä–æ–≤–µ—Ä–∫–∞ eSIM)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ):
5. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å FAILED
6. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å CANCELED
7. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Stripe

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ):
8. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Cryptomus
9. ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–∫–∞–∑–æ–≤
10. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI/–∞–¥–º–∏–Ω–∫–∏

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–∫–∞–∑ –≤ eSIM Go –¥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞** - —ç—Ç–æ –∫–ª—é—á–µ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
2. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å eSIM –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π COMPLETED** - –¥–∞–∂–µ –µ—Å–ª–∏ –¥–µ–Ω—å–≥–∏ –ø—Ä–∏—à–ª–∏
3. **–¢–∞–π–º–∞—É—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º–∏** - —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. **–õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤** - –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –∞—É–¥–∏—Ç–∞
5. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–∫–∞–∑—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç `on_hold` –¥–æ `completed`
- –ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–∫–∞–∑–æ–≤ —Å —Ç–∞–π–º–∞—É—Ç–æ–º
- –ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–∫–∞–∑–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –ø–æ –ø–ª–∞—Ç–µ–∂–Ω—ã–º –º–µ—Ç–æ–¥–∞–º

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–ª–∞—Ç–µ–∂–∞)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å—Ç–∞—Ç—É—Å ON HOLD
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å—Ç–∞—Ç—É—Å COMPLETED —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π eSIM
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å—Ç–∞—Ç—É—Å FAILED
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å—Ç–∞—Ç—É—Å CANCELED
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω Stripe
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω Cryptomus
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω UI/–∞–¥–º–∏–Ω–∫–∞
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–∫–∞–∑–æ–≤
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

