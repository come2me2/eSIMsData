# üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É API v2.4

## ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É:**
   ```
   https://your-project.vercel.app/test-esimgo.html
   ```
   –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ:
   ```
   http://localhost:3000/test-esimgo.html
   ```

2. **–ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ API –∫–ª—é—á–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API
   - –ü–æ–∫–∞–∂–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥—Ä—É–≥–∏–µ endpoints:**
   - "–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω" - –ø—Ä–æ–≤–µ—Ä–∏—Ç `/api/esimgo/countries`
   - "–ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥" - –ø—Ä–æ–≤–µ—Ä–∏—Ç `/api/esimgo/catalogue-processed`
   - "–ü–æ–ª—É—á–∏—Ç—å —Ç–∞—Ä–∏—Ñ—ã –¥–ª—è —Å—Ç—Ä–∞–Ω—ã" - –ø—Ä–æ–≤–µ—Ä–∏—Ç `/api/esimgo/bundles?country=TH`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ curl (—Ç–µ—Ä–º–∏–Ω–∞–ª)

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
curl https://your-project.vercel.app/api/esimgo/test
```

#### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω
```bash
curl https://your-project.vercel.app/api/esimgo/countries
```

#### –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥
```bash
curl https://your-project.vercel.app/api/esimgo/catalogue-processed
```

#### –ü–æ–ª—É—á–∏—Ç—å —Ç–∞—Ä–∏—Ñ—ã –¥–ª—è —Å—Ç—Ä–∞–Ω—ã
```bash
curl "https://your-project.vercel.app/api/esimgo/bundles?country=TH"
```

#### –ü—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –∫ eSIM Go API (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
```bash
curl -H "X-API-Key: YOUR_API_KEY" \
  https://api.esim-go.com/v2.4/catalogue
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- `https://your-project.vercel.app/api/esimgo/test` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- `https://your-project.vercel.app/api/esimgo/countries` - —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω
- `https://your-project.vercel.app/api/esimgo/catalogue-processed` - –∫–∞—Ç–∞–ª–æ–≥

## üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### 1. –ù–∞–ª–∏—á–∏–µ API –∫–ª—é—á–∞
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `ESIMGO_API_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Vercel:
- Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables
- –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `ESIMGO_API_KEY`

### 2. –í–µ—Ä—Å–∏—è API
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è v2.4:
- –í –æ—Ç–≤–µ—Ç–µ –æ—Ç `/api/esimgo/test` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
  ```json
  {
    "diagnostics": {
      "apiUrl": "https://api.esim-go.com/v2.4"
    }
  }
  ```

### 3. –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å endpoints
–í—Å–µ endpoints –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `success: true`:
- `/api/esimgo/test` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- `/api/esimgo/countries` - —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω
- `/api/esimgo/catalogue-processed` - –∫–∞—Ç–∞–ª–æ–≥
- `/api/esimgo/bundles?country=TH` - —Ç–∞—Ä–∏—Ñ—ã

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –û—à–∏–±–∫–∞: "ESIMGO_API_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–π–¥–∏—Ç–µ –≤ Vercel Dashboard
2. Settings ‚Üí Environment Variables
3. –î–æ–±–∞–≤—å—Ç–µ `ESIMGO_API_KEY` —Å –≤–∞—à–∏–º –∫–ª—é—á–æ–º
4. –ü–µ—Ä–µ–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

### –û—à–∏–±–∫–∞: "Access denied" –∏–ª–∏ 403
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API –∫–ª—é—á–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω –≤ eSIM Go portal
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ API

### –û—à–∏–±–∫–∞: "Network error" –∏–ª–∏ —Ç–∞–π–º–∞—É—Ç
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `https://api.esim-go.com` –¥–æ—Å—Ç—É–ø–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall/–ø—Ä–æ–∫—Å–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –û—à–∏–±–∫–∞: "Invalid JSON response"
**–†–µ—à–µ–Ω–∏–µ:**
1. API –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–µ JSON
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard ‚Üí Functions ‚Üí Logs
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç API

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç `/api/esimgo/test`:
```json
{
  "success": true,
  "diagnostics": {
    "hasApiKey": true,
    "apiUrl": "https://api.esim-go.com/v2.4",
    "hasFetch": true,
    "testResult": {
      "ok": true,
      "status": 200,
      "dataReceived": true
    }
  }
}
```

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç `/api/esimgo/countries`:
```json
{
  "success": true,
  "data": [
    {
      "code": "TH",
      "name": "Thailand",
      "bundlesCount": 15
    },
    ...
  ]
}
```

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç `/api/esimgo/catalogue-processed`:
```json
{
  "success": true,
  "data": {
    "countries": [...],
    "regions": {...},
    "bundles": [...],
    "totalCountries": 150,
    "totalBundles": 500
  }
}
```

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

1. ‚úÖ API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
3. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞
4. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard ‚Üí Functions ‚Üí Logs
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: https://docs.esim-go.com/api/v2_4/

