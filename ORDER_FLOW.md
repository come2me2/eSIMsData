# üì¶ –ü—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ –≤ eSIM Go

## ‚úÖ –î–∞, –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã —Å–æ–∑–¥–∞–µ—Ç—Å—è –†–ï–ê–õ–¨–ù–´–ô –∑–∞–∫–∞–∑ –≤ eSIM Go!

## üîÑ –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∫—É–ø–∫–∏

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "Purchase"
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
- –í–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ Telegram (hash/signature)

### 2. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–∫—É–ø–∫—É

### 3. –ü–æ–∏—Å–∫ Bundle
```javascript
// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è /api/esimgo/find-bundle
// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: country, dataAmount, duration, unlimited
// –†–µ–∑—É–ª—å—Ç–∞—Ç: bundleName (–Ω–∞–ø—Ä–∏–º–µ—Ä: "esim_1GB_7D_TH_V2")
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –≤ eSIM Go ‚ö†Ô∏è –†–ï–ê–õ–¨–ù–´–ô –ó–ê–ö–ê–ó!
```javascript
// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è POST /api/esimgo/order
// –ö–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç esimgoClient.createOrder()
// –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
{
  type: 'transaction',  // ‚Üê –†–ï–ê–õ–¨–ù–ê–Ø –¢–†–ê–ù–ó–ê–ö–¶–ò–Ø!
  assign: true,         // ‚Üê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∏—Ç—å bundle
  order: [{
    type: 'bundle',
    quantity: 1,
    item: 'esim_1GB_7D_TH_V2',  // ‚Üê Bundle name –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
    allowReassign: false
  }]
}
```

### 5. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ eSIM Go
1. **–°–ø–∏—Å–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤** —Å –±–∞–ª–∞–Ω—Å–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ eSIM Go
2. **–°–æ–∑–¥–∞–Ω–∏–µ eSIM** (–µ—Å–ª–∏ assign: true)
3. **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ Bundle** –Ω–∞ eSIM
4. **–í–æ–∑–≤—Ä–∞—Ç –¥–∞–Ω–Ω—ã—Ö**:
   - `orderReference` - —Å—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–∫–∞–∑
   - `status` - —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ (completed, processing, failed)
   - `esims` - –º–∞—Å—Å–∏–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ eSIM (ICCID, matchingId, smdpAddress)

### 6. –ü–æ–ª—É—á–µ–Ω–∏–µ QR –∫–æ–¥–∞
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è /api/esimgo/assignments
// –° –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º: reference=orderReference
// –†–µ–∑—É–ª—å—Ç–∞—Ç:
{
  iccid: "8944123456789012345",
  matchingId: "A1B2-C3D4-E5F6-G7H8",
  smdpAddress: "http://smdp.example.com",
  profileStatus: "Released"
}
```

### 7. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- –ó–∞–∫–∞–∑ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)
- –ü–æ–∑–∂–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ë–î –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –≠—Ç–æ –†–ï–ê–õ–¨–ù–´–ï –∑–∞–∫–∞–∑—ã!

### –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç `type: 'transaction'`
- ‚úÖ **–†–µ–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è** - —Å—Ä–µ–¥—Å—Ç–≤–∞ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å –±–∞–ª–∞–Ω—Å–∞
- ‚úÖ **–†–µ–∞–ª—å–Ω—ã–π eSIM** - —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞—Å—Ç–æ—è—â–∏–π eSIM –ø—Ä–æ—Ñ–∏–ª—å
- ‚úÖ **–†–µ–∞–ª—å–Ω—ã–π Bundle** - –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç –¥–∞–Ω–Ω—ã—Ö

### –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç `type: 'validate'`
- üîç **–¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞** - –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑, –Ω–µ —Å–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞
- üîç **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ü–µ–Ω—É** - –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞
- üîç **–ë–µ–∑–æ–ø–∞—Å–Ω–æ** - –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ —Ä–∏—Å–∫–∞

## üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è

### –ü—Ä–∏ `type: 'transaction'`:
1. **–°–ø–∏—Å–∞–Ω–∏–µ —Å –±–∞–ª–∞–Ω—Å–∞** –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ eSIM Go
2. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞** –≤ —Å–∏—Å—Ç–µ–º–µ eSIM Go
3. **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ Bundle** –Ω–∞ eSIM
4. **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã** –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞ (–µ—Å–ª–∏ Bundle –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω)

### –ë–∞–ª–∞–Ω—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –≤ eSIM Go Portal: https://portal.esim-go.com/
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–ª–∞–Ω—Å–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∑–∞–∫–∞–∑–æ–≤
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ü–µ–Ω Bundle

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–ï–ó —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `type: 'validate'`
–ò–∑–º–µ–Ω–∏—Ç–µ –≤ `api/esimgo/order.js`:
```javascript
const orderData = {
    type: 'validate',  // ‚Üê –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞, –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑
    assign: true,
    order: [...]
};
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–µ—Å—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
- –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç –≤ eSIM Go
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π API –∫–ª—é—á
- –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã –Ω–µ —Å–ø–∏—Å—ã–≤–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–∫–∞–∑–∞ –≤ eSIM Go

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:

```json
{
  "orderReference": "123e4567-e89b-12d3-a456-426614174000",
  "status": "completed",
  "statusMessage": "Order completed: 1 eSIM assigned",
  "total": 9.99,
  "currency": "USD",
  "order": [{
    "type": "bundle",
    "item": "esim_1GB_7D_TH_V2",
    "quantity": 1,
    "subTotal": 9.99,
    "pricePerUnit": 9.99,
    "esims": [{
      "iccid": "8944123456789012345",
      "matchingId": "A1B2-C3D4-E5F6-G7H8",
      "smdpAddress": "http://smdp.example.com"
    }]
  }]
}
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫–∞–∑–∞

### –í eSIM Go Portal
1. –ó–∞–π–¥–∏—Ç–µ –≤ https://portal.esim-go.com/
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Orders"
3. –ù–∞–π–¥–∏—Ç–µ –∑–∞–∫–∞–∑ –ø–æ `orderReference`

### –ß–µ—Ä–µ–∑ API
```bash
GET /api/esimgo/status?orderReference=ORDER_REFERENCE
```

## ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

1. **–ö–∞–∂–¥—ã–π –∑–∞–∫–∞–∑ —Å–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞** - —É–±–µ–¥–∏—Ç–µ—Å—å –≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º –±–∞–ª–∞–Ω—Å–µ
2. **–ó–∞–∫–∞–∑—ã –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å** –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è (–µ—Å–ª–∏ Bundle –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω)
3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ validate –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å** - —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –æ—Å—Ç–∞—Ç–æ–∫

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `type: 'validate'` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `type: 'transaction'` –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã –Ω–∞ –Ω–∏–∑–∫–∏–π –±–∞–ª–∞–Ω—Å
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –≤—Å–µ –∑–∞–∫–∞–∑—ã –≤ –ë–î –¥–ª—è –∞—É–¥–∏—Ç–∞

